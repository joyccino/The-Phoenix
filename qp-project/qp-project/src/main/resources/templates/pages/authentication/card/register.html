<!DOCTYPE html>
<html data-bs-theme="light" lang="en-US" dir="ltr" xmlns="http://www.w3.org/1999/html" xmlns:th="http://www.thymeleaf.org">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">


  <!-- ===============================================-->
  <!--    Document Title-->
  <!-- ===============================================-->
  <title>íí”¼ í”„ë¡œì íŠ¸ | íšŒì›ê°€ì…</title>


  <!-- ===============================================-->
  <!--    Favicons-->
  <!-- ===============================================
  <link rel="apple-touch-icon" sizes="180x180" href="../../../assets/img/favicons/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="../../../assets/img/favicons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="../../../assets/img/favicons/favicon-16x16.png">
  <link rel="shortcut icon" type="image/x-icon" href="../../../assets/img/favicons/favicon.ico">
  <link rel="manifest" href="../../../assets/img/favicons/manifest.json">
  <meta name="msapplication-TileImage" content="../../../assets/img/favicons/mstile-150x150.png">
  <meta name="theme-color" content="#ffffff">
  <script src="../../../assets/js/config.js"></script>
  <script src="../../../vendors/simplebar/simplebar.min.js"></script>-->


  <!-- ===============================================-->
  <!--    Stylesheets-->
  <!-- ===============================================-->
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="../../../vendors/simplebar/simplebar.min.css" rel="stylesheet">
  <link href="../../../assets/css/theme-rtl.css" rel="stylesheet" id="style-rtl">
  <link href="../../../assets/css/theme.css" rel="stylesheet" id="style-default">
  <link href="../../../assets/css/user-rtl.css" rel="stylesheet" id="user-style-rtl">
  <link href="../../../assets/css/user.css" rel="stylesheet" id="user-style-default">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

  <script>
      var isRTL = JSON.parse(localStorage.getItem('isRTL'));
      if (isRTL) {
        var linkDefault = document.getElementById('style-default');
        var userLinkDefault = document.getElementById('user-style-default');
        linkDefault.setAttribute('disabled', true);
        userLinkDefault.setAttribute('disabled', true);
        document.querySelector('html').setAttribute('dir', 'rtl');
      } else {
        var linkRTL = document.getElementById('style-rtl');
        var userLinkRTL = document.getElementById('user-style-rtl');
        linkRTL.setAttribute('disabled', true);
        userLinkRTL.setAttribute('disabled', true);
      }

    </script>

  <style>
  /* Chrome, Safari, Edge, Opera */
input::-webkit-outer-spin-button,
input::-webkit-inner-spin-button {
  -webkit-appearance: none;
  margin: 0;
}

/* Firefox */
input[type=number] {
  -moz-appearance: textfield;
}

.inputs {
  position: relative;
}
.checkmark__circle {
  stroke-dasharray: 166;
  stroke-dashoffset: 166;
  stroke-width: 2;
  stroke-miterlimit: 10;
  stroke: #7ac142;
  fill: none;
  animation: stroke 0.6s cubic-bezier(0.65, 0, 0.45, 1) forwards;
}

.checkmark {
  position: absolute;
  left : 90%;
  top : 53.8%;
  width: 25px;
  height: 25px;
  border-radius: 50%;
  display: block;
  stroke-width: 2;
  stroke: #fff;
  stroke-miterlimit: 10;
  box-shadow: inset 0px 0px 0px #7ac142;
  animation: fill .4s ease-in-out .4s forwards, scale .3s ease-in-out .9s both;
}

.checkmark__check {
  transform-origin: 50% 50%;
  stroke-dasharray: 48;
  stroke-dashoffset: 48;
  animation: stroke 0.3s cubic-bezier(0.65, 0, 0.45, 1) 0.8s forwards;
}

@keyframes stroke {
  100% {
    stroke-dashoffset: 0;
  }
}
@keyframes scale {
  0%, 100% {
    transform: none;
  }
  50% {
    transform: scale3d(1.1, 1.1, 1);
  }
}
@keyframes fill {
  100% {
    box-shadow: inset 0px 0px 0px 30px #7ac142;
  }
}

    </style>



</head>


<body>
<!-- ===============================================-->
<!--    Main Content-->
<!-- ===============================================-->
<main class="main" id="top">
  <div class="container-fluid">
    <div class="row min-vh-100 flex-center g-0">
      <div class="col-lg-8 col-xxl-5 py-3 position-relative"><img class="bg-auth-circle-shape" src="../../../assets/img/icons/spot-illustrations/bg-shape.png" alt="" width="250"><img class="bg-auth-circle-shape-2" src="../../../assets/img/icons/spot-illustrations/shape-1.png" alt="" width="150">
        <div class="card overflow-hidden z-1">
          <div class="card-body p-0">
            <div class="row g-0 h-100">
              <div class="col-md-5 text-center bg-card-gradient">
                <div class="position-relative p-4 pt-md-5 pb-md-7" data-bs-theme="light">
                  <div class="bg-holder bg-auth-card-shape" style="background-image:url(../../../assets/img/icons/spot-illustrations/half-circle.png);">
                  </div>
                  <!--/.bg-holder-->

                  <div class="z-1 position-relative">
                    <p class="link-light mb-4 fs-4 d-inline-block">íí”¼ í”„ë¡œì íŠ¸</p>
                    <p class="opacity-85 text-white">ğŸ—ºï¸ <b>êµì–‘</b>ë¶€í„° <b>ì „ê³µ</b> ê³¼ëª©ê¹Œì§€ ğŸ§¬</p>
                    <p class="opacity-85 text-white">ğŸ’ ì°¨ê³¡ì°¨ê³¡ ìŒ“ì´ëŠ” <b>ë¬¸ì œ ì€í–‰</b>! ğŸ“š</p>
                    <p class="opacity-85 text-white">ğŸ§  ì´ëŸ° <b>AI ê³µë¶€ í”Œë«í¼</b> ë´¤ë‚˜ìš”? ğŸ‘€</p>
                    <p class="opacity-85 text-white">ğŸµ í•™ì  ê´€ë¦¬, <b>íí”¼</b>ì™€ í•¨ê»˜í•´ìš”! ğŸ¶</p>
                  </div>
                </div>
                <div class="mt-3 mb-4 mt-md-4 mb-md-5" data-bs-theme="light">
                  <p class="pt-3 text-white">ì´ë¯¸ íí”¼ì˜ íšŒì›ì´ë¼ë©´?<br><a class="btn btn-outline-light mt-2 px-4" href="/auth/login">íí”¼ ë¡œê·¸ì¸</a></p>
                </div>
              </div>
              <div class="col-md-7 d-flex flex-center">
                <div class="p-4 p-md-5 flex-grow-1">
                  <h3>íšŒì›ê°€ì…</h3>
                  <th:block layout:fragment="customContents">
                    <form autocomplete="off" th:action="@{/auth/addMember}" method="post">
                      <div class="row gx-2">

                        <div class="mb-3 col-sm-6">
                          <label class="form-label" for="card-surname">ì„±</label>
                          <input class="form-control" type="text" autocomplete="none" id="card-surname" name ="memberSurname" oninput="nameCheck(document.getElementById('card-surname'));" onblur = "validateSurName(document.getElementById('card-surname'))" required readonly onfocus="this.removeAttribute('readonly');"/>
                        </div>
                        <div class="mb-3 col-sm-6">
                          <label class="form-label" for="card-firstname">ì´ë¦„</label>
                          <input class="form-control" type="text" autocomplete="none" id="card-firstname" name ="memberFirstname" oninput="nameCheck(document.getElementById('card-firstname'));" onblur = "validateFirstName(document.getElementById('card-firstname'))" required readonly onfocus="this.removeAttribute('readonly');"/>
                        </div>
                      </div>
                      <div class="mb-3">
                        <label class="form-label" for="card-userId">ì•„ì´ë””</label>
                        <input class="form-control" type="text" autocomplete="off" id="card-userId" name ="memberId" oninput="idCheck(document.getElementById('card-userId'));" required readonly onfocus="this.removeAttribute('readonly');"/>
                        <label class='form-label' id = "userIdCheckMsg"></label>
                      </div>
                      <div class="row gx-2">
                        <div class="mb-3 col-sm-6">
                          <label class="form-label" for="card-password">ë¹„ë°€ë²ˆí˜¸</label>
                          <input class="form-control" type="password" autocomplete="none" id="card-password" name ="memberPw" oninput="passCheck();" required readonly onfocus="this.removeAttribute('readonly');">
                          <label class='form-label' id = "psCheck" style="display: none"></label>
                          <label class='form-label' id = "pCheck" style="display: none"></label>
                        </div>
                        <div id ="div-cpass" class="mb-3 col-sm-6" style = "display: none">
                          <label class="form-label" for="card-confirm-password">ë¹„ë°€ë²ˆí˜¸ í™•ì¸</label>
                          <input class="form-control" type="password" autocomplete="none" id="card-confirm-password" oninput ="passCheck();" required readonly onfocus="this.removeAttribute('readonly');">
                          <label class='form-label' id = "matchCheck" style="display: none"></label>
                        </div>

                      </div>
                        <div class="mb-3">
                          <label class=>ì„±ë³„</label>
                          <select class="form-select mb-3" name ="memberGender" onchange="validateGender(this.value)">
                            <option value="2" selected>ì„ íƒ ì•ˆí•¨</option>
                            <option value=0>ë‚¨</option>
                            <option value="1">ì—¬</option>
                          </select>
                        </div>

                        <div class="mb-3">
                          <label class="form-label" for="card-birthdate">ìƒë…„ì›”ì¼</label>
                          <input class="form-control" type="date" autocomplete="on" id="card-birthdate" name ="memberBDate" required oninput="birthdateCheck()"/>
                          <label class="form-label" id="birthdate-error-msg" style="color:red; display:none;">ìƒë…„ì›”ì¼ì„ í™•ì¸í•´ì£¼ì„¸ìš”.</label>
                        </div>

                        <div class="mb-3">
                          <label class="form-label" for="card-contact-number">ì „í™”ë²ˆí˜¸</label>
                          <input class="form-control" type="number" step="1" autocomplete="none" id="card-contact-number" onchange ="preventKCharacter();" maxlength="11"
                                 onkeydown="return event.keyCode !== 69"
                                 oninput="check_phoneNumber(); javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);"
                                 readonly onfocus="this.removeAttribute('readonly');">
                            <svg class="checkmark" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 52 52" style="display: none" id="contact-no-verified">
                              <circle class="checkmark__circle" cx="26" cy="26" r="25" fill="none"/>
                              <path class="checkmark__check" fill="none" d="M14.1 27.2l7.1 7.2 16.7-16.8"/>
                            </svg>
                          </input>
                          <label class='form-label' id = "phoneNoCheck" style="display: none"></label>
                        </div>

                        <div class="mb-3">
                          <label class="form-label" for="card-email" id ="email-address">ì´ë©”ì¼ ì£¼ì†Œ</label>
                          <input class="form-control" type="email" autocomplete="none" id="card-email" name ="memberEmail" oninput="check_email()" required readonly onfocus="this.removeAttribute('readonly');">
                          <label class='form-label' id = "emailCheck" style="display: none"></label>
                        </div>

                      <div class="mb-3" style = "display: none" id = "uni-name">
                        <label class="form-label" for="card-uni" id ="uni-name-label">ì¬í•™ì¤‘ì¸ í•™êµëª…</label>
                        <input class="form-control" type="text" autocomplete="on" id="card-uni" readonly/>
                      </div>

                        <div class="form-check">
                          <input class="form-check-input" type="checkbox" id="chkUniStudent"/>
                          <label class="form-label" for="chkUniStudent">ëŒ€í•™ìƒì…ë‹ˆë‹¤.</label>
                        </div>
                      <div class="mb-3"  style ="display: none">
                        <label class="form-label" for="card-schoolEmailCode">í•™êµ ì¸ì¦ ì½”ë“œ</label>
                        <input class="form-control" type="text" autocomplete="on" id="card-schoolEmailCode" placeholder="ì™„ë£Œ ë²„íŠ¼ ì¶”ê°€í•´ì„œ ì¸ì¦ ì„±ê³µí•˜ë©´ ì „ê³µ í•„ë“œê°€ ë‚˜ì˜¤ëŠ”ê±¸ë¡œ ë°˜ì˜." />
                      </div>

                      <div class="mb-3" style ="display: none">
                        <label class="form-label" for="card-major">ì „ê³µ</label>
                        <input class="form-control" type="text" autocomplete="on" id="card-major" placeholder = "ë””í´íŠ¸ ì„¤ì •ìœ¼ë¡œ ìˆ¨ê²¨ì ¸ ìˆì„ê²ƒ."/>
                      </div>

                        <div class="form-check">
                          <input class="form-check-input" type="checkbox" id="card-register-checkbox" required/>
                          <label class="form-label" for="card-register-checkbox"><a data-bs-toggle="modal" href="#registrationTerms">ì´ìš©ì•½ê´€</a>ê³¼ <a data-bs-toggle="modal" href="#privacyStatement">ê°œì¸ì •ë³´ì·¨ê¸‰ë°©ì¹¨</a>ì— ë™ì˜í•©ë‹ˆë‹¤.</label>
                        </div>

                  <div class="mb-3">
                    <button class="btn btn-primary d-block w-100 mt-3" type="submit" name="submit" id="submit-btn" disabled onclick="startBtn();">íí”¼ ì‹œì‘í•˜ê¸°</button>
                  </div>
                    </form>
                  </th:block>

                  <!--
                      <div class="position-relative mt-4">
                        <hr />
                        <div class="divider-content-center">í˜¹ì€</div>
                      </div>

                      <div class="row g-2 mt-2">
                        <a href="../../../pages/authentication/card/register.html"><img src="../../../assets/img/logos/kakao/kakao.png" width="100%" alt="" ></a> <br>
                        <a href="../../../pages/authentication/card/register.html"><img src="../../../assets/img/logos/naver/naver.png" width="100%" alt="" ></a>
                      </div> -->
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="modal fade" id="registrationTerms" tabindex="-1">
      <div class="modal-dialog">
        <div class="modal-content border">
          <div class="modal-header px-x1 bg-light border-bottom-0">
            <h5 class="modal-title">íí”¼ ì´ìš©ì•½ê´€</h5>
            <button class="btn-close me-n1" type="button" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body p-x1">
            <div class="mb-3">
              <p class="fs-0">ë‚´ìš© ì¶”ê°€ ë°”ëŒ.</p>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="modal fade" id="privacyStatement" tabindex="-1">
      <div class="modal-dialog">
        <div class="modal-content border">
          <div class="modal-header px-x1 bg-light border-bottom-0">
            <h5 class="modal-title">íí”¼ ê°œì¸ì •ë³´ ì·¨ê¸‰ë°©ì¹¨</h5>
            <button class="btn-close me-n1" type="button" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body p-x1">
            <div class="mb-3">
              <p class="fs-0">ë‚´ìš© ì¶”ê°€ ë°”ëŒ.</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</main>
<!-- ===============================================-->
<!--    End of Main Content-->
<!-- ===============================================-->




<!-- ===============================================-->
<!--    JavaScripts-->
<!-- ===============================================-->
<script src="../../../vendors/popper/popper.min.js"></script>
<script src="../../../vendors/bootstrap/bootstrap.min.js"></script>
<script src="../../../vendors/anchorjs/anchor.min.js"></script>
<script src="../../../vendors/is/is.min.js"></script>
<script src="../../../vendors/fontawesome/all.min.js"></script>
<script src="../../../vendors/lodash/lodash.min.js"></script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=window.scroll"></script>
<script src="../../../vendors/list.js/list.min.js"></script>
<script src="../../../assets/js/theme.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

<script>
  // ëª¨ë“  ì…ë ¥ í•„ë“œì˜ ìƒíƒœ
  let inputs = {
    surName: false, // done
    firstName: false, //done
    id: false, // done
    password: false, // done
    gender : false,
    birthdate: false, // done
    phone: false,
    email: false, // done
    agree: false // done
  };

 function nameCheck(input) {
    let regExp = /[ \{\}\[\]\/?.,;:|\)*~`!^\-_+â”¼<>@\#$%&\'\"\\\(\=0-9]/gi;
  if (regExp.test(input.value)) {
    input.value = input.value.substring( 0 , input.value.length - 1 );
  } else if (input.value.search(/\s/) != -1) {
    input.value = input.value.substring( 0 , input.value.length - 1 );
  }
 }

 function idCheck(input) {
   var idCheckMsg = document.getElementById("userIdCheckMsg");

    if (input.value.search(/\s/) != -1) {
    input.value = input.value.substring( 0 , input.value.length - 1 );
  }
     // ì•„ì´ë”” ìœ íš¨ì„± ê²€ì‚¬ ì½”ë“œ
   !isNaN(input.value) ? inputs.id = false : inputs.id = true;
   enableSignupButton();

   // ì•„ì´ë””, ì „í™”ë²ˆí˜¸, ì´ë©”ì¼ì£¼ì†Œì— class add/remove
    let userId = document.getElementById('card-userId');
    if(inputs.id) {
      if(userId.classList.contains("is-invalid")) {
        userId.classList.remove("is-invalid");
      }
      if(!userId.classList.contains("is-valid")) {
        userId.classList.add("is-valid");
      }
      let userCount;
      // ì—¬ê¸° ì¤‘ë³µì²´í¬ ê¸°ëŠ¥ì„ ì¶”ê°€í•©ë‹ˆë‹¤.
      $.ajax({
                type : "POST", // http ë°©ì‹
                url : "/auth/idCheck", // ajax í†µì‹  url
                data : { // ajax ë‚´ìš© => íŒŒë¼ë¯¸í„° : ê°’ ì´ë¼ê³  ìƒê°í•´ë„ ë¬´ë°©
                    "memberId" : input.value,
                },
                success : function(data) {
                    console.log("data: ");
                    console.log(data);
                    if (data > 0 ) { // 0 ì´ìƒ ì´ë©´ ì¤‘ë³µ
                        console.log("ì´ë¯¸ ì¡´ì¬í•˜ëŠ” ì•„ì´ë””");
                        inputs.id = false;
                        enableSignupButton();

                        idCheckMsg.display = "inline-block";
                        idCheckMsg.innerHTML = "ì•„ì´ë””ê°€ ì¤‘ë³µë©ë‹ˆë‹¤.";
                        idCheckMsg.style.color = "red";

                        if(!userId.classList.contains("is-invalid")) {
                        userId.classList.add("is-invalid");
                         }
                    } else { // ì•„ë‹ˆë©´ ì¤‘ë³µì•„ë‹˜
                        console.log("ì‚¬ìš© ê°€ëŠ¥í•œ ì•„ì´ë””ì…ë‹ˆë‹¤");

                    }
                }
            })

    }
    else {
      if(userId.classList.contains("is-valid")) {
        userId.classList.remove("is-valid");
      }
      if(!userId.classList.contains("is-invalid")) {
        userId.classList.add("is-invalid");
      }
    }
 }

  let bdate = document.querySelector("#card-birthdate");
  bdate.max = new Date().toISOString().split("T")[0];

  var chkIsUniStudent = document.querySelector("#chkUniStudent");
  var emailAddress = document.querySelector("#email-address");
  var emailInputTag = document.querySelector("#card-email");
  var divUniName = document.querySelector("#uni-name");
  var uniName = document.querySelector("#card-uni");
  chkIsUniStudent.addEventListener('change', function() {
    if (this.checked) {
      emailAddress.innerHTML = "í•™êµ ì´ë©”ì¼ ì£¼ì†Œ";
      // ê°’ ì´ë¯¸ ì¡´ì¬í•  ê²½ìš°
      if (document.querySelector("#card-email").value.length > 0) {
        check_email();
      }

    } else {
      emailAddress.innerHTML = "ì´ë©”ì¼ ì£¼ì†Œ";

    }
  });

function preventKCharacter(){
  var phoneInput = document.querySelector("#card-contact-number").value;
  console.log(phoneInput);
}

function check_phoneNumber() {
  var phoneInput = document.querySelector("#card-contact-number").value;
  var regPhone= /^01([0|1|6|7|8|9])-?([0-9]{3,4})-?([0-9]{4})$/;
  var pCheck = document.querySelector("#phoneNoCheck");
  // ì „í™”ë²ˆí˜¸ ìœ íš¨ì„± ê²€ì‚¬ false
  validatePhone(false);

  if(phoneInput.length == 0) {
    pCheck.style.display = "none";
  }
  else if (phoneInput.length > 0 && phoneInput.length < 11) {
    pCheck.style.display = "inline-block";
    pCheck.style.color = "red";
    pCheck.innerHTML = "ì „í™”ë²ˆí˜¸ë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”."
  }
  else if (phoneInput.length == 11) {
    if (regPhone.test(phoneInput) == true) {
      //pCheck.style.display = "inline-block";
      pCheck.style.display = "none";
      //pCheck.style.color = "blue";
      //pCheck.innerHTML = "ì˜¬ë°”ë¥¸ ì „í™”ë²ˆí˜¸ í˜•ì‹ì…ë‹ˆë‹¤."
      // ì „í™”ë²ˆí˜¸ ìœ íš¨ì„± ê²€ì‚¬ true
      validatePhone(true);
    }
    else {
      pCheck.style.display = "inline-block";
      pCheck.style.color = "red";
      pCheck.innerHTML = "ì „í™”ë²ˆí˜¸ë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”.";
    }
  }
}

function check_email() {
  var email = document.querySelector("#card-email").value;
  var regEmail = /^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;
  var eCheck = document.querySelector("#emailCheck");

  // ì´ë©”ì¼ ìœ íš¨ì„± ê²€ì‚¬ false
  validateEmail(false);

  // ì´ë©”ì¼ ì •ê·œì‹
  if (email.length == 0) {
    eCheck.style.display = "none";
  }
  else if (email.length > 0) {
    eCheck.style.display = "block";
    if (regEmail.test(email)) {

      // ì´ë©”ì¼ ìœ íš¨ì„± ê²€ì‚¬ true
      validateEmail(true);
      let userCount;
      eCheck.display = "none";
      // ì—¬ê¸° ì¤‘ë³µì²´í¬ ê¸°ëŠ¥ì„ ì¶”ê°€í•©ë‹ˆë‹¤.
      let emailAddr = document.getElementById('card-email');
      let emailCheck = document.querySelector("#emailCheck");

      var divUniName = document.querySelector("#uni-name");
      divUniName.style.display = "none";


          $.ajax({
                type : "POST", // http ë°©ì‹
                url : "/auth/emailCheck", // ajax í†µì‹  url
                data : { // ajax ë‚´ìš© => íŒŒë¼ë¯¸í„° : ê°’ ì´ë¼ê³  ìƒê°í•´ë„ ë¬´ë°©
                    "email" : document.querySelector("#card-email").value,
                },
                success : function(data) {
                    console.log("data: ");
                    if (data > 0 ) { // 0 ì´ìƒ ì´ë©´ ì¤‘ë³µ
                        console.log("ì´ë¯¸ ì¡´ì¬í•˜ëŠ” ì´ë©”ì¼");
                        eCheck.style.color = "blue";
                        eCheck.innerHTML = "ì˜¬ë°”ë¥¸ ì´ë©”ì¼ í˜•ì‹ì…ë‹ˆë‹¤.";
                        inputs.email = false;
                        validateEmail(true);
                        enableSignupButton();

                        eCheck.display = "inline-block";
                        eCheck.innerHTML = "ì´ë©”ì¼ì´ ì¤‘ë³µë©ë‹ˆë‹¤.";
                        eCheck.style.color = "red";

                        if(!emailAddr.classList.contains("is-invalid")) {
                        emailAddr.classList.add("is-invalid");
                         }
                    } else { // ì•„ë‹ˆë©´ ì¤‘ë³µì•„ë‹˜
                        console.log("ì‚¬ìš© ê°€ëŠ¥í•œ ì´ë©”ì¼ì…ë‹ˆë‹¤.");
                        emailCheck.style.display = "none";
                    }
                }
          })

          if(document.querySelector("#chkUniStudent").checked){ // ëŒ€í•™ìƒ ì˜µì…˜ì¸ì§€?
            let emailDomain = document.querySelector("#card-email").value.split('@')[1];
            $.ajax({
                  type : "POST", // http ë°©ì‹
                  url : "/auth/uniCheck", // ajax í†µì‹  url
                  data : { // ajax ë‚´ìš© => íŒŒë¼ë¯¸í„° : ê°’ ì´ë¼ê³  ìƒê°í•´ë„ ë¬´ë°©
                      "uniDomain" : emailDomain,
                  },
                  success : function(data) {
                      if (data != "empty" ) {
                        var divUniName = document.querySelector("#uni-name");
                        document.querySelector("#card-uni").value = data;
                        divUniName.style.display = "block";
                      }
                      else {
                        alert("í•™êµ ì´ë©”ì¼ ë„ë©”ì¸ì„ í™•ì¸í•´ ì£¼ì„¸ìš”.");

                        document.querySelector('#email-address').innerHTML = "ì´ë©”ì¼ ì£¼ì†Œ";

                        var divUniName = document.querySelector("#uni-name");
                        divUniName.style.display = "none";

                        document.querySelector("#chkUniStudent").checked = false;
                      }
                  }
            })

          }
          else {
            // ë””ë¹„ì— ì—†ëŠ” í•™êµì¼ ê²½ìš°?

          }
    }
    else {
      eCheck.style.color = "red";
      eCheck.innerHTML = "ì´ë©”ì¼ í˜•ì‹ì„ í™•ì¸í•´ì£¼ì„¸ìš”.";
    }
  }
}

function passCheck() {
  let id = $("#card-userId").val();
  let pw = $("#card-password").val();
  let number = pw.search(/[0-9]/g);
  let english = pw.search(/[a-z]/ig);
  let spece = pw.search(/[`~!@@#$%^&*|â‚©â‚©â‚©'â‚©";:â‚©/?]/gi);
  let reg = /^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$/;
  let confirmPass = document.querySelector("#div-cpass");
  let passWarning = document.querySelector("#pCheck");
  let matchWarning = document.querySelector("#matchCheck");
  let cPassVal = $("#card-confirm-password").val();

  // ë¹„ë°€ë²ˆí˜¸ ìœ íš¨ì„± ê²€ì‚¬ false
  validatePassword(false);

  // ë¹„ë°€ë²ˆí˜¸ ì •ê·œì‹
  if (pw.length < 8 || pw.length > 20) {
      passWarning.style.display = "block";
      passWarning.style.color = "red";
      passWarning.innerHTML = "8ìì—ì„œ 20ì ì‚¬ì´ì˜ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.";
      confirmPass.style.display = "none";
        $('#submit-btn').prop('disabled', true);

  } else if (pw.search(/\s/) != -1) {
      passWarning.style.display = "block";
      passWarning.innerHTML = "ë¹„ë°€ë²ˆí˜¸ëŠ” ê³µë°± ì—†ì´ ì…ë ¥í•´ì£¼ì„¸ìš”.";
      confirmPass.style.display = "none";
        $('#submit-btn').prop('disabled', true);
  } else if (number < 0 || english < 0 || spece < 0) {
      passWarning.style.display = "block";
      passWarning.innerHTML = "ì˜ë¬¸,ìˆ«ì,íŠ¹ìˆ˜ë¬¸ìë¥¼ í˜¼í•©í•˜ì—¬ ì…ë ¥í•´ì£¼ì„¸ìš”.";
      confirmPass.style.display = "none";
        $('#submit-btn').prop('disabled', true);
  } else {
      passWarning.style.display = "none";
      confirmPass.style.display = "block";
      if (cPassVal.length == 0){
        matchWarning.style.display = "block";
        matchWarning.style.color = "red";
        matchWarning.innerHTML = "ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.";
        $('#submit-btn').prop('disabled', true);
      }
      else if (pw !== cPassVal) {
        matchWarning.style.display = "block";
        matchWarning.innerHTML = "ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.";
        $('#submit-btn').prop('disabled', trFue);
      }
      else{
        matchWarning.style.display = "none";
        // $('#submit-btn').prop('disabled', false);

        // ë¹„ë°€ë²ˆí˜¸ ìœ íš¨ì„± ê²€ì‚¬ true
        validatePassword(true);
      }
  }
}

 function birthdateCheck() {
   // í˜„ì¬ ë‚ ì§œ ìƒì„±
   let today = new Date();
   let dd = today.getDate();
   let mm = today.getMonth()+1; // 0ë¶€í„° ì‹œì‘í•˜ë¯€ë¡œ 1ì„ ë”í•´ì¤ë‹ˆë‹¤.
   let yyyy = today.getFullYear();
   if(dd<10) dd='0'+dd;
   if(mm<10) mm='0'+mm;
   let todayString = yyyy+'-'+mm+'-'+dd;

   // ì…ë ¥ëœ ë‚ ì§œ ê°€ì ¸ì˜¤ê¸°
   let inputDate = document.getElementById("card-birthdate").value;

   // í˜„ì¬ ë‚ ì§œì™€ ì…ë ¥ ë‚ ì§œ ë¹„êµ
   if (inputDate > todayString) {
     document.getElementById("birthdate-error-msg").style.display = "block";
     // ìƒë…„ì›”ì¼ ìœ íš¨ì„± ê²€ì‚¬ false
     validateBirthday(false);
   } else {
     document.getElementById("birthdate-error-msg").style.display = "none";
     // ìƒë…„ì›”ì¼ ìœ íš¨ì„± ê²€ì‚¬ true
     validateBirthday(true);
   }
 }

  function validateSurName(input){
    // ì„± ìœ íš¨ì„± ê²€ì‚¬
    isNaN(input.value) ? inputs.surName = true : inputs.surName = false;
    enableSignupButton();
  }
  function validateFirstName(input){
    // ì´ë¦„ ìœ íš¨ì„± ê²€ì‚¬
    isNaN(input.value) ? inputs.firstName = true : inputs.firstName = false;
    enableSignupButton();
  }
  function validatePassword(truth){
    // ë¹„ë°€ë²ˆí˜¸ ìœ íš¨ì„± ê²€ì‚¬
    truth ? inputs.password = true : inputs.password = false;
    enableSignupButton();
  }
  function validateGender(genderSelect){
    // ì„±ë³„ ìœ íš¨ì„± ê²€ì‚¬
    (genderSelect == 0 || genderSelect == 1) ? inputs.gender = true : inputs.gender = false;
    enableSignupButton();
  }
  function validateBirthday(truth){
    // ìƒì¼ ìœ íš¨ì„± ê²€ì‚¬
    truth ? inputs.birthdate = true : inputs.birthdate = false;
    enableSignupButton();
  }
  function validatePhone(truth){
    // ì „í™”ë²ˆí˜¸ ìœ íš¨ì„± ê²€ì‚¬
    truth ? inputs.phone = true : inputs.phone = false;
    enableSignupButton();

    // ì•„ì´ë””, ì „í™”ë²ˆí˜¸, ì´ë©”ì¼ì£¼ì†Œì— class add/remove
    let contactNo = document.getElementById('card-contact-number');
    if(inputs.phone) {
      if(contactNo.classList.contains("is-invalid")) {
        contactNo.classList.remove("is-invalid");
      }
      if(!contactNo.classList.contains("is-valid")) {
        contactNo.classList.add("is-valid");
      }
    }
    else {
      if(contactNo.classList.contains("is-valid")) {
        contactNo.classList.remove("is-valid");
      }
      if(!contactNo.classList.contains("is-invalid")) {
        contactNo.classList.add("is-invalid");
      }
    }
  }
  function validateEmail(truth){
    // ì´ë©”ì¼ ìœ íš¨ì„± ê²€ì‚¬
    truth ? inputs.email = true : inputs.firstName = false;
    enableSignupButton();

    // ì•„ì´ë””, ì „í™”ë²ˆí˜¸, ì´ë©”ì¼ì£¼ì†Œì— class add/remove
    let emailAddr = document.getElementById('card-email');
    if(inputs.email) {
      if(emailAddr.classList.contains("is-invalid")) {
        emailAddr.classList.remove("is-invalid");
      }
      if(!emailAddr.classList.contains("is-valid")) {
        emailAddr.classList.add("is-valid");
      }
    }
    else {
      if(emailAddr.classList.contains("is-valid")) {
        emailAddr.classList.remove("is-valid");
      }
      if(!emailAddr.classList.contains("is-invalid")) {
        emailAddr.classList.add("is-invalid");
      }
    }
  }

  // ì´ìš©ì•½ê´€ ìœ íš¨ì„± ê²€ì‚¬
  const agreeCheckbox = document.getElementById('card-register-checkbox');
  agreeCheckbox.addEventListener('click', function() {
    agreeCheckbox.checked ? inputs.agree = true : inputs.agree = false;
    enableSignupButton()
  });

  function enableSignupButton() {
    console.log("Sur name: ", inputs.surName, " First name: ", inputs.firstName, " Id: ", inputs.id , " Password: ", inputs.password,  " Gender: ", inputs.gender, " Phone: ", inputs.phone," Birthdate: ", inputs.birthdate, " email: ", inputs.email, " agree: ", inputs.agree);

    if (inputs.surName && inputs.firstName && inputs.id && inputs.password && inputs.gender && inputs.birthdate && inputs.phone && inputs.email && inputs.agree) {
      document.getElementById("submit-btn").disabled = false;
    } else {
      document.getElementById("submit-btn").disabled = true;
    }
  }

  function startBtn(){
    alert("íšŒì›ê°€ì… ë˜ì—ˆìŠµë‹ˆë‹¤. ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ì´ë™í•©ë‹ˆë‹¤.");
  }

</script>

</body>

</html>